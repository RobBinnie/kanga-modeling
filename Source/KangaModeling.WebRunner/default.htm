<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Kanga Modelling Demo</title>
</head>
<body onload="Compile()">
    <table>
        <tr>
            <th>
                Press button to compile
            </th>
            <th>
            </th>
            <th>
                Compile as you type
            </th>
        </tr>
        <tr>
            <td valign="top">
                <form method="get" action="SequenceDiagram.aspx">
                <textarea rows="10" cols="30" name="code">
title Hello World
participant A
A->B: Hi, how are you?
B->A: I'm fine, thanks!
A->C: What about you darling?
        </textarea>
                <br />
                <button type="submit">
                    Get Image</button>
                </form>
            </td>
            <td>
                &nbsp;
            </td>
            <td valign="top">
                <script type="text/jscript" language="javascript">
                    function Compile() {
                        var codeText = document.getElementById("SourceCode").value;
                        var image = document.getElementById("DiagramImage");
                        image.src = 'SequenceDiagram.aspx?code=' + encodeURI(codeText);
                    }
                </script>
                <textarea rows="10" cols="30" id="SourceCode" onkeyup="Compile()">
title Hello World
participant A
A->B: Hi, how are you?
B->A: I'm fine, thanks!
A->C: What about you darling?
        </textarea>
                <br />
                <img id="DiagramImage" src="" alt="Sequence Diagram" />
            </td>
        </tr>
    </table>
</body>
</html>
